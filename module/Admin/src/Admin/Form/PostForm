<?php
namespace Admin\Form;
use Zend\Form\Form;
use Zend\Form\Element;
use Admin\Entity\Post;
use Zend\Stdlib\Hydrator\ClassMethods as ClassMethodsHydrator;

class PostForm extends Form {
    protected $categorieField;
    
    public function __construct() {
        parent::__construct('post');
        $this->setHydrator(new ClassMethodsHydrator(false))
        ->setObject(new Post());
        //Méthode d'envoie (GET,POST)
        $this->setAttribute('method', 'post');
        //Définition des champs
        //Page Id
        $idField = new Element\Hidden('id');
        $this->add($idField);
        //Page Title
        $titleField = new Element\Text('titre');
        $titleField->setLabel('Titre');
        $this->add($titleField);
        //Page Content
        $contentField = new Element\Textarea('contenu');
        $contentField->setLabel('Contenu');
        $this->add($contentField);
        //Page Category
        $idField = new Element\Select('categorie_id');
        $idField->setLabel('Categorie');
        $this->add($idField);
        $submitField = new Element\Submit('submit');
        $submitField->setValue('Envoyer');
        $submitField->setAttributes(array('id' => 'submitbutton'));
        $this->add($submitField);
    }
    /**
     * Allow controller to set Categories
     *
     * @param array $categories
     */
    public function setCategories($categorie = array())
    {
        $this->get('categorie_id')->setValueOptions($categorie);
    }

}